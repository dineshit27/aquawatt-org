import{i as f,r as t,j as e,C as b,a as N,b as g,d as A,s as v}from"./index-pyDnZmym.js";import{a as q}from"./DashboardHeader-PAEKF7nm.js";import{A as u,a as x,b as h}from"./alert-C2HAlOpW.js";import"./label-D7uTkZ5E.js";const y=()=>{var l,o,c;const{user:C,session:s}=f(),[d,j]=t.useState([]),[n,i]=t.useState(null),a=((o=(l=s==null?void 0:s.user)==null?void 0:l.app_metadata)==null?void 0:o.role)==="admin"||((c=s==null?void 0:s.user)==null?void 0:c.role)==="admin";return t.useEffect(()=>{a&&(async()=>{i(null);const{data:p,error:m}=await v.from("faq_requests").select("*").order("created_at",{ascending:!1});if(m){i(m.message);return}j(p)})()},[a]),e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(q,{}),e.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"FAQ Requests (Admin)"}),!a&&e.jsxs(u,{className:"mb-6",children:[e.jsx(x,{children:"Access denied"}),e.jsx(h,{children:"You do not have permission to view this page."})]}),a&&e.jsxs(b,{children:[e.jsx(N,{children:e.jsx(g,{children:"Submitted Questions"})}),e.jsxs(A,{children:[n&&e.jsxs(u,{className:"mb-4",children:[e.jsx(x,{children:"Error"}),e.jsx(h,{children:n})]}),d.length===0?e.jsx("div",{className:"text-sm text-muted-foreground",children:"No requests yet."}):e.jsx("ul",{className:"space-y-3",children:d.map(r=>e.jsxs("li",{className:"p-3 border rounded-md",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(r.created_at).toLocaleString()}),e.jsx("div",{className:"font-medium",children:r.question}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["User: ",r.user_id??"anonymous"]})]},r.id))})]})]})]})]})};export{y as default};
