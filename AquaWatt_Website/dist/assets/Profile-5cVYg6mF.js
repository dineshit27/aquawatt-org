const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-pyDnZmym.js","assets/index-IceAyytG.css"])))=>i.map(i=>d[i]);
import{c as R,r as t,j as e,P as ws,e as Js,s as he,i as Gs,H as Hs,J as Bs,u as Ws,K as Ys,C as j,a as b,b as S,B as y,d as g,p as P,I as _,T as ns,N as Ks,O as Xs,Q as Zs,U as Qs,_ as de}from"./index-pyDnZmym.js";import{a as ea,T as sa,b as aa,c as O,U as cs,d as D,B as me,D as ta,Z as ra,S as A,M as la}from"./DashboardHeader-PAEKF7nm.js";import{L as p,a as os}from"./label-D7uTkZ5E.js";import{S as xe,a as V,D as ia,P as na}from"./DevicesPanel-DysEvBPd.js";import{S as ca,a as $,b as z,c as q,d as J,e as h}from"./select-C5P1DhZ3.js";import{c as ds,A as Ce,a as ms,b as Pe}from"./avatar-CP3ChQyz.js";import{A as xs,b as us}from"./alert-C2HAlOpW.js";import{C as oa}from"./circle-check-big-HeXS74tS.js";import{S as hs}from"./shield-DC983-YF.js";import{U as ps,G as da,E as Ee}from"./users-Ch-iESbt.js";import{T as ue}from"./trending-up-CAxTgZiE.js";import{M as ma}from"./map-pin-DqHYYOMx.js";import"./index-DMurpG-e.js";import"./refresh-cw-Dtlj4at3.js";import"./lightbulb-90Qseq-2.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=R("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=R("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=R("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=R("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=R("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=R("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=R("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=R("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);function fa(s,c=[]){let n=[];function d(v,f){const m=t.createContext(f),x=n.length;n=[...n,f];function N(L){const{scope:C,children:E,...k}=L,T=(C==null?void 0:C[s][x])||m,H=t.useMemo(()=>k,Object.values(k));return e.jsx(T.Provider,{value:H,children:E})}function G(L,C){const E=(C==null?void 0:C[s][x])||m,k=t.useContext(E);if(k)return k;if(f!==void 0)return f;throw new Error(`\`${L}\` must be used within \`${v}\``)}return N.displayName=v+"Provider",[N,G]}const o=()=>{const v=n.map(f=>t.createContext(f));return function(m){const x=(m==null?void 0:m[s])||v;return t.useMemo(()=>({[`__scope${s}`]:{...m,[s]:x}}),[m,x])}};return o.scopeName=s,[d,ja(o,...c)]}function ja(...s){const c=s[0];if(s.length===1)return c;const n=()=>{const d=s.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(v){const f=d.reduce((m,{useScope:x,scopeName:N})=>{const L=x(v)[`__scope${N}`];return{...m,...L}},{});return t.useMemo(()=>({[`__scope${c.scopeName}`]:f}),[f])}};return n.scopeName=c.scopeName,n}var _e="Progress",Ae=100,[ga,Ja]=fa(_e),[va,Na]=ga(_e),bs=t.forwardRef((s,c)=>{const{__scopeProgress:n,value:d=null,max:o,getValueLabel:v=ya,...f}=s;(o||o===0)&&!vs(o)&&console.error(wa(`${o}`,"Progress"));const m=vs(o)?o:Ae;d!==null&&!Ns(d,m)&&console.error(ba(`${d}`,"Progress"));const x=Ns(d,m)?d:null,N=pe(x)?v(x,m):void 0;return e.jsx(va,{scope:n,value:x,max:m,children:e.jsx(ws.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":pe(x)?x:void 0,"aria-valuetext":N,role:"progressbar","data-state":Ps(x,m),"data-value":x??void 0,"data-max":m,...f,ref:c})})});bs.displayName=_e;var Ss="ProgressIndicator",Cs=t.forwardRef((s,c)=>{const{__scopeProgress:n,...d}=s,o=Na(Ss,n);return e.jsx(ws.div,{"data-state":Ps(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...d,ref:c})});Cs.displayName=Ss;function ya(s,c){return`${Math.round(s/c*100)}%`}function Ps(s,c){return s==null?"indeterminate":s===c?"complete":"loading"}function pe(s){return typeof s=="number"}function vs(s){return pe(s)&&!isNaN(s)&&s>0}function Ns(s,c){return pe(s)&&!isNaN(s)&&s<=c&&s>=0}function wa(s,c){return`Invalid prop \`max\` of value \`${s}\` supplied to \`${c}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Ae}\`.`}function ba(s,c){return`Invalid prop \`value\` of value \`${s}\` supplied to \`${c}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Ae} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Es=bs,Sa=Cs;const ks=t.forwardRef(({className:s,value:c,...n},d)=>e.jsx(Es,{ref:d,className:Js("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...n,children:e.jsx(Sa,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(c||0)}%)`}})}));ks.displayName=Es.displayName;const U="family_members",F=he;async function ys(){const{data:s,error:c}=await F.from(U).select("*").order("invited_at",{ascending:!0});return{data:s||null,error:(c==null?void 0:c.message)||null}}async function Ca(s,c="view"){var m;const{data:n}=await he.auth.getUser(),d=(m=n==null?void 0:n.user)==null?void 0:m.id;if(!d)return{data:null,error:"Not authenticated"};try{await he.auth.signInWithOtp({email:s,options:{emailRedirectTo:`${window.location.origin}/profile`}})}catch(x){console.warn("Magic link send error:",(x==null?void 0:x.message)||x)}const{data:o,error:v}=await F.from(U).select("*").eq("owner_user_id",d).eq("member_email",s).maybeSingle();v&&console.warn("Lookup existing family member failed:",v.message);let f=null;if(o){const{data:x,error:N}=await F.from(U).update({access_level:c,status:o.status==="revoked"?"pending":o.status}).eq("id",o.id).select("*").single();if(N)return{data:null,error:N.message};f=x}else{const{data:x,error:N}=await F.from(U).insert({member_email:s,access_level:c,owner_user_id:d}).select("*").single();if(N)return{data:null,error:N.message};f=x}return{data:f,error:null}}async function Pa(s,c){const{data:n,error:d}=await F.from(U).update(c).eq("id",s).select("*").single();return{data:n||null,error:(d==null?void 0:d.message)||null}}async function Ea(s){const{error:c}=await F.from(U).delete().eq("id",s);return{data:!c,error:(c==null?void 0:c.message)||null}}async function ka(){var o;const{data:s}=await he.auth.getUser(),c=(o=s==null?void 0:s.user)==null?void 0:o.email;if(!c)return{updated:0,error:"Not authenticated"};const{data:n,error:d}=await F.from(U).update({status:"active",joined_at:new Date().toISOString()}).eq("member_email",c).eq("status","pending").select("id");return d?{updated:0,error:d.message}:{updated:Array.isArray(n)?n.length:0,error:null}}const Ga=()=>{var ls,is;const{user:s,signOutUser:c}=Gs(),{toast:n}=Hs(),{language:d,setLanguage:o}=Bs(),v=t.useRef(null),f=Ws(),m=t.useRef(null),x="profile:prefs",N="profile:security",G="profile:devices",[L,C]=t.useState(!1),[E,k]=t.useState(""),[T,H]=t.useState(""),[Z,Le]=t.useState("San Francisco, CA"),[Q,Me]=t.useState("https://waterlight-harmony.com"),[_s,Re]=t.useState(!1),[Te,ee]=t.useState(!1),[I,fe]=t.useState("light"),[M,Ie]=t.useState(d||"en"),[se,Ue]=t.useState("America/Los_Angeles"),[B,Fe]=t.useState(!0),[W,Oe]=t.useState(!0),[Y,De]=t.useState(!1),[ae,Ve]=t.useState(!1),[te,$e]=t.useState(!0),[re,ze]=t.useState("public"),[je,qe]=t.useState(null),[le,Je]=t.useState(!1),[Ge,He]=t.useState(""),[ie,Be]=t.useState(""),[ge,We]=t.useState(""),[ve,As]=t.useState(!1),[Ne,Ls]=t.useState(!1),[ye,Ms]=t.useState(!1),[Ye,Ke]=t.useState(!1),[we,K]=t.useState([]),[be,Xe]=t.useState(!1),[ne,Rs]=t.useState(null),[ce,Ze]=t.useState(""),[oe,Ts]=t.useState("viewer"),[Qe,es]=t.useState(!1),[X]=t.useState({waterSaved:1250,energySaved:850,carbonReduced:45,moneySaved:320}),[ss]=t.useState({water:{target:2e3,current:1250,unit:"L"},energy:{target:1500,current:850,unit:"kWh"},carbon:{target:100,current:45,unit:"kg COâ‚‚"}}),[as]=t.useState([{type:"achievement",message:"Achieved water saving goal!",time:"2 hours ago",icon:ds},{type:"update",message:"Profile updated successfully",time:"1 day ago",icon:oa},{type:"alert",message:"High water usage detected",time:"2 days ago",icon:ha},{type:"info",message:"Monthly report generated",time:"3 days ago",icon:fs}]),[Se,Is]=t.useState([{name:"Smart Water Meter",type:"water",status:"online",lastSeen:"Just now"},{name:"Energy Monitor Pro",type:"energy",status:"online",lastSeen:"5 minutes ago"},{name:"Garden Sprinkler",type:"irrigation",status:"offline",lastSeen:"2 hours ago"},{name:"Smart Thermostat",type:"climate",status:"online",lastSeen:"1 minute ago"}]);t.useEffect(()=>{v.current&&(v.current.scrollTop=0)},[]),t.useEffect(()=>{var l;const a=(l=s==null?void 0:s.user_metadata)==null?void 0:l.full_name;a&&k(a)},[s]),t.useEffect(()=>{try{const a=localStorage.getItem(x);if(a){const i=JSON.parse(a);i.theme&&fe(i.theme),i.language&&Ie(i.language),i.timezone&&Ue(i.timezone),Fe(i.emailNotifications??!0),Oe(i.pushNotifications??!0),De(i.smsNotifications??!1),Ve(i.marketingEmails??!1),$e(i.dataSharing??!0),i.profileVisibility&&ze(i.profileVisibility)}const l=localStorage.getItem(N);if(l){const i=JSON.parse(l);Je(!!i.twoFactorEnabled)}const r=localStorage.getItem(G);if(r){const i=JSON.parse(r);Array.isArray(i)&&Is(i)}}catch{}},[]),t.useEffect(()=>{try{localStorage.setItem(x,JSON.stringify({theme:I,language:M,timezone:se,emailNotifications:B,pushNotifications:W,smsNotifications:Y,marketingEmails:ae,dataSharing:te,profileVisibility:re}))}catch{}},[I,M,se,B,W,Y,ae,te,re]),t.useEffect(()=>{try{localStorage.setItem(N,JSON.stringify({twoFactorEnabled:le}))}catch{}},[le]),t.useEffect(()=>{(async()=>{if(!s)return;Xe(!0);const{data:l,error:r}=await ys();r?Rs(r):K(l||[]),Xe(!1)})()},[s]),t.useEffect(()=>{(async()=>{if(!s)return;const{updated:l,error:r}=await ka();if(!r&&l>0){const{data:i}=await ys();i&&K(i),n({title:"Access Granted",description:"Your family membership is now active."})}})()},[s]),t.useEffect(()=>{try{localStorage.setItem(G,JSON.stringify(Se))}catch{}},[Se]),t.useEffect(()=>{const a=document.documentElement;a.classList.remove("dark"),a.classList.add("light")},[I]),t.useEffect(()=>{M&&M!==d&&o(M)},[M,d,o]),t.useEffect(()=>()=>{m.current&&URL.revokeObjectURL(m.current)},[]);const Us=async a=>{if(a.preventDefault(),!!s){C(!0);try{const{supabase:l}=await de(async()=>{const{supabase:u}=await import("./index-pyDnZmym.js").then(qs=>qs.aj);return{supabase:u}},__vite__mapDeps([0,1])),r={id:s.id,email:s.email,full_name:E,display_name:E,avatar_url:T||null,location:Z||null,website:Q||null,phone:null};let i=null,w=null;try{const u=await l.from("profiles").update(r).eq("id",s.id).select("*").single();u.error?w=u.error:i=u.data}catch(u){w=u}if(!i){const u=await l.from("profiles").upsert(r,{onConflict:"id"}).select("*").single();if(u.error)throw u.error;i=u.data}n({title:"Success!",description:"Profile updated successfully"})}catch(l){const r=(l==null?void 0:l.message)||"",i=/row-level security/i.test(r)&&/profiles/i.test(r);n({title:"Error",description:i?'Your project is missing the INSERT policy for profiles. Please apply the migration or add an INSERT policy: CREATE POLICY "insert own profile" ON public.profiles FOR INSERT WITH CHECK (auth.uid() = id);':r||"Failed to update profile",variant:"destructive"})}finally{C(!1)}}},Fs=async a=>{var r;const l=(r=a.target.files)==null?void 0:r[0];if(!(!l||!s)){C(!0);try{const i=URL.createObjectURL(l);m.current&&URL.revokeObjectURL(m.current),m.current=i,H(i),n({title:"Success!",description:"Profile picture uploaded successfully"})}catch{n({title:"Error",description:"Failed to upload profile picture",variant:"destructive"})}finally{C(!1)}}},Os=async a=>{if(a.preventDefault(),ie!==ge){n({title:"Error",description:"Passwords do not match",variant:"destructive"});return}if(ie.length<6){n({title:"Error",description:"Password must be at least 6 characters long",variant:"destructive"});return}Ke(!0),setTimeout(()=>{Ke(!1),He(""),Be(""),We(""),n({title:"Success!",description:"Password updated successfully"})},1e3)},ts=async()=>{try{await c(),n({title:"Signed out",description:"Sign-out successful"}),f("/")}catch(a){const l=a instanceof Error?a.message:"Unknown error";n({title:"Sign out failed",description:l,variant:"destructive"})}},Ds=async()=>{if(!ce.trim())return;es(!0);const a=oe==="viewer"?"view":oe==="editor"?"edit":oe,{data:l,error:r}=await Ca(ce.trim(),a);r||!l?n({title:"Error",description:r||"Failed to invite",variant:"destructive"}):(K(i=>[...i,l]),Ze(""),n({title:"Invited",description:`Invitation sent to ${l.member_email}`})),es(!1)},Vs=async a=>{const{error:l}=await Ea(a);l?n({title:"Error",description:l,variant:"destructive"}):(K(r=>r.filter(i=>i.id!==a)),n({title:"Removed",description:"Family member removed"}))},$s=async(a,l)=>{const{data:r,error:i}=await Pa(a.id,{access_level:l});i||!r?n({title:"Error",description:i||"Failed to update",variant:"destructive"}):(K(w=>w.map(u=>u.id===a.id?r:u)),n({title:"Updated",description:`${r.member_email} access set to ${r.access_level}`}))},rs=a=>{var l;try{const r={generatedAt:new Date().toISOString(),user:{email:s==null?void 0:s.email,displayName:E||((l=s==null?void 0:s.user_metadata)==null?void 0:l.full_name)}};a==="profile"&&(r.profile={displayName:E,location:Z,website:Q,avatarUrl:T},r.preferences={theme:I,language:M,timezone:se,emailNotifications:B,pushNotifications:W,smsNotifications:Y,marketingEmails:ae,dataSharing:te,profileVisibility:re}),a==="usage"&&(r.devices=Se,r.goals=ss,r.stats=X,r.recentActivity=as,r.family=we);const i=new Blob([JSON.stringify(r,null,2)],{type:"application/json"}),w=URL.createObjectURL(i),u=document.createElement("a");u.href=w,u.download=`aquawatt-${a}-export-${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(w),n({title:"Export Complete",description:`${a} data downloaded as JSON`})}catch{n({title:"Export Failed",description:"Unable to export data",variant:"destructive"})}};t.useEffect(()=>{(async()=>{if(s){Re(!0);try{const{supabase:l}=await de(async()=>{const{supabase:w}=await import("./index-pyDnZmym.js").then(u=>u.aj);return{supabase:w}},__vite__mapDeps([0,1])),{data:r,error:i}=await l.from("profiles").select("*").eq("id",s.id).single();!i&&r&&(k(r.display_name||r.full_name||s.email||""),H(r.avatar_url||""),Le(r.location||Z),Me(r.website||Q))}finally{Re(!1)}}})()},[s==null?void 0:s.id]),t.useEffect(()=>{(async()=>{if(s){ee(!0);try{const{supabase:l}=await de(async()=>{const{supabase:w}=await import("./index-pyDnZmym.js").then(u=>u.aj);return{supabase:w}},__vite__mapDeps([0,1])),{data:r,error:i}=await l.from("user_settings").select("*").eq("user_id",s.id).single();!i&&r&&(qe(r.id),fe(r.theme||I))}finally{ee(!1)}}})()},[s==null?void 0:s.id]);const zs=async()=>{if(s){ee(!0);try{const{supabase:a}=await de(async()=>{const{supabase:w}=await import("./index-pyDnZmym.js").then(u=>u.aj);return{supabase:w}},__vite__mapDeps([0,1])),l={user_id:s.id,theme:I,notifications_enabled:B||W||Y},r=a.from("user_settings");let i;if(je?i=await r.update(l).eq("id",je).select("*").single():i=await r.upsert(l).select("*").single(),i.error)throw i.error;je||qe(i.data.id),n({title:"Saved",description:"Preferences updated"})}catch(a){n({title:"Error",description:(a==null?void 0:a.message)||"Failed to save preferences",variant:"destructive"})}finally{ee(!1)}}};return s?e.jsx("div",{className:"flex min-h-screen bg-background flex-col",children:e.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(ea,{}),e.jsx("div",{ref:v,className:"flex-1 overflow-auto p-4 sm:p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Profile Settings"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your account settings and preferences"})]}),e.jsxs(sa,{defaultValue:"overview",className:"space-y-6",children:[e.jsx("div",{className:"w-full overflow-x-auto",children:e.jsxs(aa,{className:"grid w-full min-w-max grid-cols-6 gap-1 bg-muted p-1 rounded-lg",children:[e.jsxs(O,{value:"overview",className:"flex items-center justify-center gap-2 text-xs sm:text-sm px-2 py-2 whitespace-nowrap",children:[e.jsx(Ys,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Overview"})]}),e.jsxs(O,{value:"profile",className:"flex items-center justify-center gap-2 text-xs sm:text-sm px-2 py-2 whitespace-nowrap",children:[e.jsx(cs,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Profile"})]}),e.jsxs(O,{value:"preferences",className:"flex items-center justify-center gap-2 text-xs sm:text-sm px-2 py-2 whitespace-nowrap",children:[e.jsx(ca,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Preferences"})]}),e.jsxs(O,{value:"security",className:"flex items-center justify-center gap-2 text-xs sm:text-sm px-2 py-2 whitespace-nowrap",children:[e.jsx(hs,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Security"})]}),e.jsxs(O,{value:"devices",className:"flex items-center justify-center gap-2 text-xs sm:text-sm px-2 py-2 whitespace-nowrap",children:[e.jsx(gs,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Devices"})]}),e.jsxs(O,{value:"family",className:"flex items-center justify-center gap-2 text-xs sm:text-sm px-2 py-2 whitespace-nowrap",children:[e.jsx(ps,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Family"})]})]})}),e.jsxs(D,{value:"overview",className:"space-y-8",children:[e.jsx(j,{className:"border-0 shadow-lg",children:e.jsx(b,{className:"pb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center sm:items-start sm:justify-between text-center sm:text-left",children:[e.jsxs(S,{className:"flex flex-col sm:flex-row items-center gap-4",children:[e.jsxs(Ce,{className:"h-16 w-16 sm:h-20 sm:w-20 ring-4 ring-primary/10",children:[e.jsx(ms,{src:T}),e.jsx(Pe,{className:"text-2xl font-bold bg-gradient-to-br from-blue-500 to-purple-600 text-white",children:((ls=s.email)==null?void 0:ls.charAt(0).toUpperCase())||"U"})]}),e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:E||s.email}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-2 mt-2",children:[e.jsx(me,{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white font-medium",children:"Premium User"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Member since Jan 2024"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 self-center sm:self-auto",children:[e.jsxs(y,{variant:"outline",size:"sm",onClick:ts,className:"hidden sm:inline-flex",children:[e.jsx(js,{className:"h-4 w-4 mr-2"})," Sign Out"]}),e.jsx(y,{variant:"outline",size:"icon",onClick:ts,className:"sm:hidden",children:e.jsx(js,{className:"h-4 w-4"})})]})]})})}),e.jsxs("div",{className:"grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx(j,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300",children:e.jsx(g,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-xl flex-shrink-0",children:e.jsx(ta,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Water Saved"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[X.waterSaved,"L"]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-green-600 mt-1",children:[e.jsx(ue,{className:"h-4 w-4"}),e.jsx("span",{children:"+12% this month"})]})]})]})})}),e.jsx(j,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300",children:e.jsx(g,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-yellow-100 rounded-xl flex-shrink-0",children:e.jsx(ra,{className:"h-6 w-6 text-yellow-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Energy Saved"}),e.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[X.energySaved," kWh"]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-green-600 mt-1",children:[e.jsx(ue,{className:"h-4 w-4"}),e.jsx("span",{children:"+8% this month"})]})]})]})})}),e.jsx(j,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow duration-300",children:e.jsx(g,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-xl flex-shrink-0",children:e.jsx(ds,{className:"h-5 w-5 sm:h-6 sm:w-6 text-green-600"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-muted-foreground mb-1",children:"Carbon Reduced"}),e.jsxs("p",{className:"text-xl sm:text-2xl font-bold",children:[X.carbonReduced," kg"]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs sm:text-sm text-green-600",children:[e.jsx(ue,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{children:"+15% this month"})]})]})]})})}),e.jsx(j,{children:e.jsx(g,{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("div",{className:"p-2 sm:p-3 bg-purple-100 rounded-full flex-shrink-0",children:e.jsx("span",{className:"text-base sm:text-lg font-bold text-purple-600",children:"$"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Money Saved"}),e.jsxs("p",{className:"text-xl sm:text-2xl font-bold",children:["$",X.moneySaved]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs sm:text-sm text-green-600",children:[e.jsx(ue,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e.jsx("span",{children:"+20% this month"})]})]})]})})})]}),e.jsxs(j,{className:"border-0 shadow-lg",children:[e.jsxs(b,{className:"pb-6",children:[e.jsx(S,{className:"text-xl font-bold",children:"Monthly Goals"}),e.jsx(P,{children:"Track your progress towards sustainability goals"})]}),e.jsx(g,{className:"space-y-8",children:Object.entries(ss).map(([a,l])=>{const r=Math.round(l.current/l.target*100);return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium capitalize",children:[a," Conservation"]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[l.current," / ",l.target," ",l.unit]})]}),e.jsx(ks,{value:r,className:"h-2"}),e.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[r,"% of goal"]})]},a)})})]}),e.jsxs(j,{className:"border-0 shadow-lg",children:[e.jsxs(b,{className:"pb-6",children:[e.jsx(S,{className:"text-xl font-bold",children:"Recent Activity"}),e.jsx(P,{children:"Stay updated on your account and usage changes"})]}),e.jsx(g,{className:"space-y-4",children:e.jsx("div",{className:"flex flex-col gap-4",children:as.map((a,l)=>{const r=a.icon;return e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg hover:bg-muted/50",children:[e.jsx("div",{className:`p-2 rounded-full ${a.type==="achievement"?"bg-yellow-100 text-yellow-600":a.type==="update"?"bg-green-100 text-green-600":a.type==="alert"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:e.jsx(r,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:a.message}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a.time})]})]},l)})})})]})]}),e.jsx(D,{value:"profile",className:"space-y-8",children:e.jsxs(j,{className:"border-0 shadow-lg",children:[e.jsxs(b,{className:"pb-6",children:[e.jsx(S,{className:"text-xl font-bold",children:"Personal Information"}),e.jsx(P,{children:"Update your personal details and profile picture"})]}),e.jsxs(g,{className:"space-y-8",children:[_s&&e.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading profile..."}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 sm:gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(Ce,{className:"h-20 w-20 sm:h-24 sm:w-24",children:[e.jsx(ms,{src:T}),e.jsx(Pe,{className:"text-xl sm:text-2xl",children:((is=s.email)==null?void 0:is.charAt(0).toUpperCase())||"U"})]}),e.jsx(p,{htmlFor:"avatar-upload",className:"absolute -bottom-2 -right-2 cursor-pointer",children:e.jsx("div",{className:"bg-primary rounded-full p-2 text-primary-foreground hover:bg-primary/90 transition-colors",children:e.jsx(ua,{className:"h-4 w-4"})})}),e.jsx(_,{id:"avatar-upload",type:"file",accept:"image/*",className:"hidden",onChange:Fs})]}),e.jsxs("div",{className:"text-center sm:text-left space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Profile Picture"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload a new avatar. JPG, PNG or GIF (max. 5MB)"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx(y,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(p,{htmlFor:"avatar-upload",className:"cursor-pointer",children:[e.jsx(pa,{className:"h-4 w-4 mr-2"}),"Upload"]})}),T&&e.jsxs(y,{variant:"outline",size:"sm",onClick:()=>H(""),children:[e.jsx(ns,{className:"h-4 w-4 mr-2"}),"Remove"]})]})]})]}),e.jsx(A,{}),e.jsxs("form",{onSubmit:Us,className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-1 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"email",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(la,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(_,{id:"email",type:"email",value:s.email||"",className:"pl-10",disabled:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"displayName",children:"Display Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(cs,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(_,{id:"displayName",type:"text",value:E,onChange:a=>k(a.target.value),placeholder:"Enter your display name",className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"location",children:"Location"}),e.jsxs("div",{className:"relative",children:[e.jsx(ma,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(_,{id:"location",type:"text",value:Z,onChange:a=>Le(a.target.value),placeholder:"Enter your location",className:"pl-10"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"website",children:"Website"}),e.jsxs("div",{className:"relative",children:[e.jsx(da,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(_,{id:"website",type:"url",value:Q,onChange:a=>Me(a.target.value),placeholder:"Enter your website",className:"pl-10"})]})]})]}),e.jsx(y,{type:"submit",disabled:L,className:"w-full",children:L?e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"mr-2 h-4 w-4"}),"Save Changes"]})})]})]})]})}),e.jsxs(D,{value:"preferences",className:"space-y-8",children:[e.jsxs(j,{className:"border-0 shadow-lg",children:[e.jsxs(b,{className:"pb-6",children:[e.jsx(S,{className:"text-xl font-bold",children:"Theme & Appearance"}),e.jsx(P,{children:"Customize how the app looks and feels"})]}),e.jsxs(g,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{children:"Theme"}),e.jsxs($,{value:I,onValueChange:a=>fe(a),children:[e.jsx(z,{children:e.jsx(q,{})}),e.jsxs(J,{children:[e.jsx(h,{value:"light",children:"Light"}),e.jsx(h,{value:"dark",children:"Dark"}),e.jsx(h,{value:"system",children:"System"})]})]})]}),e.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{children:"Language"}),e.jsxs($,{value:M,onValueChange:a=>Ie(a),children:[e.jsx(z,{children:e.jsx(q,{})}),e.jsxs(J,{children:[e.jsx(h,{value:"en",children:"English"}),e.jsx(h,{value:"es",children:"Spanish"}),e.jsx(h,{value:"fr",children:"French"}),e.jsx(h,{value:"de",children:"German"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{children:"Timezone"}),e.jsxs($,{value:se,onValueChange:Ue,children:[e.jsx(z,{children:e.jsx(q,{})}),e.jsxs(J,{children:[e.jsx(h,{value:"America/Los_Angeles",children:"Pacific Time"}),e.jsx(h,{value:"America/Denver",children:"Mountain Time"}),e.jsx(h,{value:"America/Chicago",children:"Central Time"}),e.jsx(h,{value:"America/New_York",children:"Eastern Time"})]})]})]})]})]})]}),e.jsxs(j,{className:"border-0 shadow-lg",children:[e.jsxs(b,{className:"pb-6",children:[e.jsxs(S,{className:"flex items-center gap-2 text-xl font-bold",children:[e.jsx(xa,{className:"h-5 w-5"}),"Notification Preferences"]}),e.jsx(P,{children:"Choose how you want to be notified"})]}),e.jsxs(g,{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(p,{children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via email"})]}),e.jsx(V,{checked:B,onCheckedChange:Fe})]}),e.jsx(A,{}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(p,{children:"Push Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive push notifications"})]}),e.jsx(V,{checked:W,onCheckedChange:Oe})]}),e.jsx(A,{}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(p,{children:"SMS Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive text message alerts"})]}),e.jsx(V,{checked:Y,onCheckedChange:De})]}),e.jsx(A,{}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(p,{children:"Marketing Emails"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive promotional content"})]}),e.jsx(V,{checked:ae,onCheckedChange:Ve})]})]})]}),e.jsxs(j,{className:"border-0 shadow-lg",children:[e.jsxs(b,{className:"pb-6",children:[e.jsx(S,{className:"text-xl font-bold",children:"Privacy Controls"}),e.jsx(P,{children:"Manage your privacy and data sharing"})]}),e.jsxs(g,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{children:"Profile Visibility"}),e.jsxs($,{value:re,onValueChange:a=>ze(a),children:[e.jsx(z,{children:e.jsx(q,{})}),e.jsxs(J,{children:[e.jsx(h,{value:"public",children:"Public"}),e.jsx(h,{value:"private",children:"Private"}),e.jsx(h,{value:"friends",children:"Friends Only"})]})]})]}),e.jsx(A,{}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(p,{children:"Data Sharing"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Share usage data for analytics"})]}),e.jsx(V,{checked:te,onCheckedChange:$e})]})]})]}),e.jsxs(j,{className:"border-0 shadow-lg",children:[e.jsxs(b,{className:"pb-6",children:[e.jsx(S,{className:"text-xl font-bold",children:"Data Export"}),e.jsx(P,{children:"Download your data"})]}),e.jsxs(g,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-3 grid-cols-1 sm:grid-cols-2",children:[e.jsx(y,{variant:"outline",onClick:()=>rs("profile"),children:"Export Profile Data"}),e.jsx(y,{variant:"outline",onClick:()=>rs("usage"),children:"Export Usage Data"})]}),e.jsx("div",{className:"pt-2",children:e.jsx(y,{disabled:Te,onClick:zs,className:"w-full",children:Te?"Saving Preferences...":"Save Preferences"})})]})]})]}),e.jsxs(D,{value:"security",className:"space-y-8",children:[e.jsxs(j,{className:"border-0 shadow-lg",children:[e.jsxs(b,{className:"pb-6",children:[e.jsxs(S,{className:"flex items-center gap-2 text-xl font-bold",children:[e.jsx(os,{className:"h-5 w-5"}),"Change Password"]}),e.jsx(P,{children:"Update your account password for better security"})]}),e.jsx(g,{children:e.jsxs("form",{onSubmit:Os,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"current-password",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(_,{id:"current-password",type:ve?"text":"password",value:Ge,onChange:a=>He(a.target.value),placeholder:"Enter current password",className:"pr-10"}),e.jsx(y,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>As(!ve),children:ve?e.jsx(ke,{className:"h-4 w-4"}):e.jsx(Ee,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"new-password",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(_,{id:"new-password",type:Ne?"text":"password",value:ie,onChange:a=>Be(a.target.value),placeholder:"Enter new password",className:"pr-10"}),e.jsx(y,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>Ls(!Ne),children:Ne?e.jsx(ke,{className:"h-4 w-4"}):e.jsx(Ee,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"confirm-password",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(_,{id:"confirm-password",type:ye?"text":"password",value:ge,onChange:a=>We(a.target.value),placeholder:"Confirm new password",className:"pr-10"}),e.jsx(y,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>Ms(!ye),children:ye?e.jsx(ke,{className:"h-4 w-4"}):e.jsx(Ee,{className:"h-4 w-4"})})]})]}),e.jsx(xs,{children:e.jsx(us,{children:"Password must be at least 6 characters long. Use a mix of letters, numbers, and symbols."})}),e.jsx(y,{type:"submit",className:"w-full",disabled:Ye||!Ge||!ie||!ge,children:Ye?e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating Password..."]}):e.jsxs(e.Fragment,{children:[e.jsx(os,{className:"mr-2 h-4 w-4"}),"Update Password"]})})]})})]}),e.jsxs(j,{className:"border-0 shadow-lg",children:[e.jsxs(b,{className:"pb-6",children:[e.jsxs(S,{className:"flex items-center gap-2 text-xl font-bold",children:[e.jsx(hs,{className:"h-5 w-5"}),"Two-Factor Authentication"]}),e.jsx(P,{children:"Add an extra layer of security to your account"})]}),e.jsxs(g,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(p,{children:"Enable 2FA"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Use an authenticator app for additional security"})]}),e.jsx(V,{checked:le,onCheckedChange:Je})]}),le&&e.jsxs(xs,{children:[e.jsx(fs,{className:"h-4 w-4"}),e.jsx(us,{children:"Two-factor authentication is enabled. Use your authenticator app to generate codes."})]})]})]}),e.jsxs(j,{className:"border-0 shadow-lg",children:[e.jsx(b,{className:"pb-6",children:e.jsx(S,{className:"text-xl font-bold",children:"Account Information"})}),e.jsx(g,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Email"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:s.email})]}),e.jsx(A,{}),e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Account Type"}),e.jsx(me,{variant:"secondary",children:"Premium"})]}),e.jsx(A,{}),e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Member Since"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"January 2024"})]}),e.jsx(A,{}),e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Last Login"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Just now"})]})]})})]})]}),e.jsx(D,{value:"devices",className:"space-y-8",children:e.jsxs(j,{className:"border-0 shadow-lg",children:[e.jsxs(b,{className:"pb-6",children:[e.jsxs(S,{className:"flex items-center gap-2 text-xl font-bold",children:[e.jsx(gs,{className:"h-5 w-5"}),"Connected Devices"]}),e.jsx(P,{children:"Manage your smart home devices and sensors"})]}),e.jsx(g,{children:e.jsx(ia,{})})]})}),e.jsx(D,{value:"family",className:"space-y-8",children:e.jsxs(j,{className:"border-0 shadow-lg",children:[e.jsxs(b,{className:"pb-6",children:[e.jsxs(S,{className:"flex items-center gap-2 text-xl font-bold",children:[e.jsx(ps,{className:"h-5 w-5"}),"Family Member Access"]}),e.jsx(P,{children:"Share your utility data with family members"})]}),e.jsxs(g,{className:"space-y-4",children:[be&&e.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading family members..."}),ne&&e.jsx("div",{className:"text-sm text-red-600",children:ne}),!be&&!ne&&we.map(a=>e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-4 border rounded-lg gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[e.jsx(Ce,{className:"h-10 w-10 flex-shrink-0",children:e.jsx(Pe,{children:a.member_email.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"font-medium truncate",children:a.member_email}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(me,{variant:"outline",className:"text-xs capitalize",children:(a.access_level||"view").replace("viewer","view").replace("editor","edit")}),e.jsx(me,{variant:a.status==="active"?"default":"secondary",className:"text-xs capitalize",children:a.status||"pending"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs($,{value:a.access_level||"view",onValueChange:l=>$s(a,l),children:[e.jsx(z,{className:"w-[110px] h-8 text-xs",children:e.jsx(q,{})}),e.jsxs(J,{children:[e.jsx(h,{value:"view",children:"View"}),e.jsx(h,{value:"edit",children:"Edit"}),e.jsx(h,{value:"admin",children:"Admin"})]})]}),e.jsx(Ks,{children:e.jsxs(Xs,{children:[e.jsx(Zs,{asChild:!0,children:e.jsx(y,{variant:"outline",size:"sm",onClick:()=>Vs(a.id),className:"flex-shrink-0",children:e.jsx(ns,{className:"h-4 w-4"})})}),e.jsx(Qs,{children:"Remove access"})]})})]})]},a.id)),!be&&!ne&&we.length===0&&e.jsx("div",{className:"text-sm text-muted-foreground",children:"No family members yet."}),e.jsx(A,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Add Family Member"}),e.jsxs("div",{className:"grid gap-3 grid-cols-1 sm:grid-cols-2",children:[e.jsx(_,{placeholder:"Email address",value:ce,onChange:a=>Ze(a.target.value)}),e.jsxs($,{value:oe,onValueChange:Ts,children:[e.jsx(z,{children:e.jsx(q,{})}),e.jsxs(J,{children:[e.jsx(h,{value:"viewer",children:"Viewer - Can view data only"}),e.jsx(h,{value:"editor",children:"Editor - Can view and edit settings"}),e.jsx(h,{value:"admin",children:"Admin - Full access"})]})]})]}),e.jsx(y,{onClick:Ds,className:"w-full",disabled:!ce.trim()||Qe,children:Qe?e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"h-4 w-4 mr-2 animate-spin"})," Inviting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(na,{className:"h-4 w-4 mr-2"})," Send Invitation"]})})]})]})]})})]})]})})]})}):e.jsx("div",{children:"Please log in to view your profile."})};export{Ga as default};
