import{c as L,r as A,j as i,l as H,R as y,m as Rt,B as ge,C as z,d as K,g as nr,n as ar,o as ir,a as pe,b as ye,p as Fe}from"./index-pyDnZmym.js";import{H as sr,B as We,Z as ee,a as or}from"./DashboardHeader-PAEKF7nm.js";import{S as lr,a as it,b as st,c as ot,d as lt,e as se}from"./select-C5P1DhZ3.js";import{D as te,S as cr}from"./sparkles-BDaBWE8R.js";import{M as ur,i as dr,u as Ct,P as mr,a as hr,b as fr,L as pr,m as ct}from"./proxy-a2znvul6.js";import{C as ut}from"./circle-check-big-HeXS74tS.js";import{T as Se}from"./trending-up-CAxTgZiE.js";import{C as yr}from"./calendar-kZuBCCWN.js";import{M as gr}from"./map-pin-DqHYYOMx.js";import{f as R,_ as $t,c as Mt,d as vr,e as xr,i as F,g as rt,p as Z,h as M,j as Lt,k as nt,l as It,D as Dt,m as Ee,n as Q,o as X,S as br,A as Bt,q as wr,r as J,s as Ye,t as D,u as zt,G as Kt,v as jr,w as Ar,x as je,y as dt,z as _e,B as Ft,E as Wt,F as Ae,H as kr,I as Pr,J as mt,K as at,M as Ge,X as ve,Y as xe,N as Ht,O as Or,R as ht,C as He,T as ke,a as Pe,L as Nr,b as Oe}from"./LineChart-CKDyU7Io.js";import{T as ft}from"./trending-down-enRbLAb9.js";import"./label-D7uTkZ5E.js";import"./index-DMurpG-e.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=L("Bath",[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=L("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=L("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=L("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=L("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=L("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=L("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=L("Sofa",[["path",{d:"M20 9V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v3",key:"1dgpiv"}],["path",{d:"M2 16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"xacw8m"}],["path",{d:"M4 18v2",key:"jwo5n2"}],["path",{d:"M20 18v2",key:"1ar1qi"}],["path",{d:"M12 4v9",key:"oqhhn3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=L("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=L("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=L("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=L("Wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=L("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=L("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function yt(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function zr(...e){return t=>{let n=!1;const r=e.map(a=>{const s=yt(a,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let a=0;a<r.length;a++){const s=r[a];typeof s=="function"?s():yt(e[a],null)}}}}function Kr(...e){return A.useCallback(zr(...e),e)}class Fr extends A.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=dr(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=a-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Wr({children:e,isPresent:t,anchorX:n,root:r}){const a=A.useId(),s=A.useRef(null),o=A.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=A.useContext(ur),d=Kr(s,e==null?void 0:e.ref);return A.useInsertionEffect(()=>{const{width:l,height:h,top:m,left:f,right:x}=o.current;if(t||!s.current||!l||!h)return;const p=n==="left"?`left: ${f}`:`right: ${x}`;s.current.dataset.motionPopId=a;const c=document.createElement("style");u&&(c.nonce=u);const g=r??document.head;return g.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${h}px !important;
            ${p}px !important;
            top: ${m}px !important;
          }
        `),()=>{g.contains(c)&&g.removeChild(c)}},[t]),i.jsx(Fr,{isPresent:t,childRef:s,sizeRef:o,children:A.cloneElement(e,{ref:d})})}const Hr=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:s,mode:o,anchorX:u,root:d})=>{const l=Ct(Vr),h=A.useId();let m=!0,f=A.useMemo(()=>(m=!1,{id:h,initial:t,isPresent:n,custom:a,onExitComplete:x=>{l.set(x,!0);for(const p of l.values())if(!p)return;r&&r()},register:x=>(l.set(x,!1),()=>l.delete(x))}),[n,l,r]);return s&&m&&(f={...f}),A.useMemo(()=>{l.forEach((x,p)=>l.set(p,!1))},[n]),A.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=i.jsx(Wr,{isPresent:n,anchorX:u,root:d,children:e})),i.jsx(mr.Provider,{value:f,children:e})};function Vr(){return new Map}const Ne=e=>e.key||"";function gt(e){const t=[];return A.Children.forEach(e,n=>{A.isValidElement(n)&&t.push(n)}),t}const Ur=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:s="sync",propagate:o=!1,anchorX:u="left",root:d})=>{const[l,h]=hr(o),m=A.useMemo(()=>gt(e),[e]),f=o&&!l?[]:m.map(Ne),x=A.useRef(!0),p=A.useRef(m),c=Ct(()=>new Map),[g,P]=A.useState(m),[w,E]=A.useState(m);fr(()=>{x.current=!1,p.current=m;for(let k=0;k<w.length;k++){const N=Ne(w[k]);f.includes(N)?c.delete(N):c.get(N)!==!0&&c.set(N,!1)}},[w,f.length,f.join("-")]);const O=[];if(m!==g){let k=[...m];for(let N=0;N<w.length;N++){const j=w[N],$=Ne(j);f.includes($)||(k.splice(N,0,j),O.push(j))}return s==="wait"&&O.length&&(k=O),E(gt(k)),P(m),null}const{forceRender:b}=A.useContext(pr);return i.jsx(i.Fragment,{children:w.map(k=>{const N=Ne(k),j=o&&!l?!1:m===w||f.includes(N),$=()=>{if(c.has(N))c.set(N,!0);else return;let v=!0;c.forEach(S=>{S||(v=!1)}),v&&(b==null||b(),E(p.current),o&&(h==null||h()),r&&r())};return i.jsx(Hr,{isPresent:j,initial:!x.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:s,root:d,onExitComplete:j?void 0:$,anchorX:u,children:k},N)})})};var Zr=["points","className","baseLinePoints","connectNulls"];function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oe.apply(this,arguments)}function qr(e,t){if(e==null)return{};var n=Yr(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Yr(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function vt(e){return Qr(e)||Xr(e)||Jr(e)||Gr()}function Gr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jr(e,t){if(e){if(typeof e=="string")return Je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Je(e,t)}}function Xr(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Qr(e){if(Array.isArray(e))return Je(e)}function Je(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xt=function(t){return t&&t.x===+t.x&&t.y===+t.y},en=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){xt(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),xt(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},be=function(t,n){var r=en(t);n&&(r=[r.reduce(function(s,o){return[].concat(vt(s),vt(o))},[])]);var a=r.map(function(s){return s.reduce(function(o,u,d){return"".concat(o).concat(d===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return r.length===1?"".concat(a,"Z"):a},tn=function(t,n,r){var a=be(t,r);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(be(n.reverse(),r).slice(1))},rn=function(t){var n=t.points,r=t.className,a=t.baseLinePoints,s=t.connectNulls,o=qr(t,Zr);if(!n||!n.length)return null;var u=H("recharts-polygon",r);if(a&&a.length){var d=o.stroke&&o.stroke!=="none",l=tn(n,a,s);return y.createElement("g",{className:u},y.createElement("path",oe({},R(o,!0),{fill:l.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:l})),d?y.createElement("path",oe({},R(o,!0),{fill:"none",d:be(n,s)})):null,d?y.createElement("path",oe({},R(o,!0),{fill:"none",d:be(a,s)})):null)}var h=be(n,s);return y.createElement("path",oe({},R(o,!0),{fill:h.slice(-1)==="Z"?o.fill:"none",className:u,d:h}))},nn=$t,an=vr,sn=Mt;function on(e,t){return e&&e.length?nn(e,sn(t),an):void 0}var ln=on;const cn=Rt(ln);var un=$t,dn=Mt,mn=xr;function hn(e,t){return e&&e.length?un(e,dn(t),mn):void 0}var fn=hn;const pn=Rt(fn);var yn=["cx","cy","angle","ticks","axisLine"],gn=["ticks","tick","angle","tickFormatter","stroke"];function ue(e){"@babel/helpers - typeof";return ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ue(e)}function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we.apply(this,arguments)}function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bt(Object(n),!0).forEach(function(r){Ie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wt(e,t){if(e==null)return{};var n=vn(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function vn(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function xn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ut(r.key),r)}}function bn(e,t,n){return t&&jt(e.prototype,t),n&&jt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wn(e,t,n){return t=Re(t),jn(e,Vt()?Reflect.construct(t,n||[],Re(e).constructor):t.apply(e,n))}function jn(e,t){if(t&&(ue(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return An(e)}function An(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vt=function(){return!!e})()}function Re(e){return Re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Re(e)}function kn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xe(e,t)}function Xe(e,t){return Xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Xe(e,t)}function Ie(e,t,n){return t=Ut(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ut(e){var t=Pn(e,"string");return ue(t)=="symbol"?t:t+""}function Pn(e,t){if(ue(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ue(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var De=function(e){function t(){return xn(this,t),wn(this,t,arguments)}return kn(t,e),bn(t,[{key:"getTickValueCoord",value:function(r){var a=r.coordinate,s=this.props,o=s.angle,u=s.cx,d=s.cy;return Z(u,d,a,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,a;switch(r){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var r=this.props,a=r.cx,s=r.cy,o=r.angle,u=r.ticks,d=cn(u,function(h){return h.coordinate||0}),l=pn(u,function(h){return h.coordinate||0});return{cx:a,cy:s,startAngle:o,endAngle:o,innerRadius:l.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,s=r.cy,o=r.angle,u=r.ticks,d=r.axisLine,l=wt(r,yn),h=u.reduce(function(p,c){return[Math.min(p[0],c.coordinate),Math.max(p[1],c.coordinate)]},[1/0,-1/0]),m=Z(a,s,h[0],o),f=Z(a,s,h[1],o),x=re(re(re({},R(l,!1)),{},{fill:"none"},R(d,!1)),{},{x1:m.x,y1:m.y,x2:f.x,y2:f.y});return y.createElement("line",we({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var r=this,a=this.props,s=a.ticks,o=a.tick,u=a.angle,d=a.tickFormatter,l=a.stroke,h=wt(a,gn),m=this.getTickTextAnchor(),f=R(h,!1),x=R(o,!1),p=s.map(function(c,g){var P=r.getTickValueCoord(c),w=re(re(re(re({textAnchor:m,transform:"rotate(".concat(90-u,", ").concat(P.x,", ").concat(P.y,")")},f),{},{stroke:"none",fill:l},x),{},{index:g},P),{},{payload:c});return y.createElement(M,we({className:H("recharts-polar-radius-axis-tick",Lt(o)),key:"tick-".concat(c.coordinate)},nt(r.props,c,g)),t.renderTickItem(o,w,d?d(c.value,g):c.value))});return y.createElement(M,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,a=r.ticks,s=r.axisLine,o=r.tick;return!a||!a.length?null:y.createElement(M,{className:H("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),It.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,a,s){var o;return y.isValidElement(r)?o=y.cloneElement(r,a):F(r)?o=r(a):o=y.createElement(rt,we({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(A.PureComponent);Ie(De,"displayName","PolarRadiusAxis");Ie(De,"axisType","radiusAxis");Ie(De,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function de(e){"@babel/helpers - typeof";return de=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},de(e)}function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ae.apply(this,arguments)}function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?At(Object(n),!0).forEach(function(r){Be(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function On(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qt(r.key),r)}}function Nn(e,t,n){return t&&kt(e.prototype,t),n&&kt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sn(e,t,n){return t=Ce(t),En(e,Zt()?Reflect.construct(t,n||[],Ce(e).constructor):t.apply(e,n))}function En(e,t){if(t&&(de(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _n(e)}function _n(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zt=function(){return!!e})()}function Ce(e){return Ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ce(e)}function Tn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qe(e,t)}function Qe(e,t){return Qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Qe(e,t)}function Be(e,t,n){return t=qt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qt(e){var t=Rn(e,"string");return de(t)=="symbol"?t:t+""}function Rn(e,t){if(de(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(de(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cn=Math.PI/180,Pt=1e-5,ze=function(e){function t(){return On(this,t),Sn(this,t,arguments)}return Tn(t,e),Nn(t,[{key:"getTickLineCoord",value:function(r){var a=this.props,s=a.cx,o=a.cy,u=a.radius,d=a.orientation,l=a.tickSize,h=l||8,m=Z(s,o,u,r.coordinate),f=Z(s,o,u+(d==="inner"?-1:1)*h,r.coordinate);return{x1:m.x,y1:m.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(r){var a=this.props.orientation,s=Math.cos(-r.coordinate*Cn),o;return s>Pt?o=a==="outer"?"start":"end":s<-Pt?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,s=r.cy,o=r.radius,u=r.axisLine,d=r.axisLineType,l=ne(ne({},R(this.props,!1)),{},{fill:"none"},R(u,!1));if(d==="circle")return y.createElement(Dt,ae({className:"recharts-polar-angle-axis-line"},l,{cx:a,cy:s,r:o}));var h=this.props.ticks,m=h.map(function(f){return Z(a,s,o,f.coordinate)});return y.createElement(rn,ae({className:"recharts-polar-angle-axis-line"},l,{points:m}))}},{key:"renderTicks",value:function(){var r=this,a=this.props,s=a.ticks,o=a.tick,u=a.tickLine,d=a.tickFormatter,l=a.stroke,h=R(this.props,!1),m=R(o,!1),f=ne(ne({},h),{},{fill:"none"},R(u,!1)),x=s.map(function(p,c){var g=r.getTickLineCoord(p),P=r.getTickTextAnchor(p),w=ne(ne(ne({textAnchor:P},h),{},{stroke:"none",fill:l},m),{},{index:c,payload:p,x:g.x2,y:g.y2});return y.createElement(M,ae({className:H("recharts-polar-angle-axis-tick",Lt(o)),key:"tick-".concat(p.coordinate)},nt(r.props,p,c)),u&&y.createElement("line",ae({className:"recharts-polar-angle-axis-tick-line"},f,g)),o&&t.renderTickItem(o,w,d?d(p.value,c):p.value))});return y.createElement(M,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var r=this.props,a=r.ticks,s=r.radius,o=r.axisLine;return s<=0||!a||!a.length?null:y.createElement(M,{className:H("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,a,s){var o;return y.isValidElement(r)?o=y.cloneElement(r,a):F(r)?o=r(a):o=y.createElement(rt,ae({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(A.PureComponent);Be(ze,"displayName","PolarAngleAxis");Be(ze,"axisType","angleAxis");Be(ze,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Te;function me(e){"@babel/helpers - typeof";return me=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},me(e)}function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},le.apply(this,arguments)}function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ot(Object(n),!0).forEach(function(r){B(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gt(r.key),r)}}function Mn(e,t,n){return t&&Nt(e.prototype,t),n&&Nt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ln(e,t,n){return t=$e(t),In(e,Yt()?Reflect.construct(t,n||[],$e(e).constructor):t.apply(e,n))}function In(e,t){if(t&&(me(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dn(e)}function Dn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yt=function(){return!!e})()}function $e(e){return $e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$e(e)}function Bn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&et(e,t)}function et(e,t){return et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},et(e,t)}function B(e,t,n){return t=Gt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gt(e){var t=zn(e,"string");return me(t)=="symbol"?t:t+""}function zn(e,t){if(me(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(me(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y=function(e){function t(n){var r;return $n(this,t),r=Ln(this,t,[n]),B(r,"pieRef",null),B(r,"sectorRefs",[]),B(r,"id",Ft("recharts-pie-")),B(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),F(a)&&a()}),B(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),F(a)&&a()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Bn(t,e),Mn(t,[{key:"isActiveIndex",value:function(r){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(r)!==-1:r===a}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,u=s.labelLine,d=s.dataKey,l=s.valueKey,h=R(this.props,!1),m=R(o,!1),f=R(u,!1),x=o&&o.offsetRadius||20,p=r.map(function(c,g){var P=(c.startAngle+c.endAngle)/2,w=Z(c.cx,c.cy,c.outerRadius+x,P),E=T(T(T(T({},h),c),{},{stroke:"none"},m),{},{index:g,textAnchor:t.getTextAnchor(w.x,c.cx)},w),O=T(T(T(T({},h),c),{},{fill:"none",stroke:c.fill},f),{},{index:g,points:[Z(c.cx,c.cy,c.outerRadius,P),w]}),b=d;return Q(d)&&Q(l)?b="value":Q(d)&&(b=l),y.createElement(M,{key:"label-".concat(c.startAngle,"-").concat(c.endAngle,"-").concat(c.midAngle,"-").concat(g)},u&&t.renderLabelLineItem(u,O,"line"),t.renderLabelItem(o,E,X(c,b)))});return y.createElement(M,{className:"recharts-pie-labels"},p)}},{key:"renderSectorsStatically",value:function(r){var a=this,s=this.props,o=s.activeShape,u=s.blendStroke,d=s.inactiveShape;return r.map(function(l,h){if((l==null?void 0:l.startAngle)===0&&(l==null?void 0:l.endAngle)===0&&r.length!==1)return null;var m=a.isActiveIndex(h),f=d&&a.hasActiveIndex()?d:null,x=m?o:f,p=T(T({},l),{},{stroke:u?l.fill:l.stroke,tabIndex:-1});return y.createElement(M,le({ref:function(g){g&&!a.sectorRefs.includes(g)&&a.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},nt(a.props,l,h),{key:"sector-".concat(l==null?void 0:l.startAngle,"-").concat(l==null?void 0:l.endAngle,"-").concat(l.midAngle,"-").concat(h)}),y.createElement(br,le({option:x,isActive:m,shapeType:"sector"},p)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,a=this.props,s=a.sectors,o=a.isAnimationActive,u=a.animationBegin,d=a.animationDuration,l=a.animationEasing,h=a.animationId,m=this.state,f=m.prevSectors,x=m.prevIsAnimationActive;return y.createElement(Bt,{begin:u,duration:d,isActive:o,easing:l,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(x),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(p){var c=p.t,g=[],P=s&&s[0],w=P.startAngle;return s.forEach(function(E,O){var b=f&&f[O],k=O>0?wr(E,"paddingAngle",0):0;if(b){var N=J(b.endAngle-b.startAngle,E.endAngle-E.startAngle),j=T(T({},E),{},{startAngle:w+k,endAngle:w+N(c)+k});g.push(j),w=j.endAngle}else{var $=E.endAngle,v=E.startAngle,S=J(0,$-v),C=S(c),_=T(T({},E),{},{startAngle:w+k,endAngle:w+C+k});g.push(_),w=_.endAngle}}),y.createElement(M,null,r.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(r){var a=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var u=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[u].focus(),a.setState({sectorToFocus:u});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,a=r.sectors,s=r.isAnimationActive,o=this.state.prevSectors;return s&&a&&a.length&&(!o||!Ye(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,a=this.props,s=a.hide,o=a.sectors,u=a.className,d=a.label,l=a.cx,h=a.cy,m=a.innerRadius,f=a.outerRadius,x=a.isAnimationActive,p=this.state.isAnimationFinished;if(s||!o||!o.length||!D(l)||!D(h)||!D(m)||!D(f))return null;var c=H("recharts-pie",u);return y.createElement(M,{tabIndex:this.props.rootTabIndex,className:c,ref:function(P){r.pieRef=P}},this.renderSectors(),d&&this.renderLabels(o),It.renderCallByParent(this.props,null,!1),(!x||p)&&zt.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return a.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:r.sectors!==a.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,a){return r>a?"start":r<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,a,s){if(y.isValidElement(r))return y.cloneElement(r,a);if(F(r))return r(a);var o=H("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return y.createElement(Ee,le({},a,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,a,s){if(y.isValidElement(r))return y.cloneElement(r,a);var o=s;if(F(r)&&(o=r(a),y.isValidElement(o)))return o;var u=H("recharts-pie-label-text",typeof r!="boolean"&&!F(r)?r.className:"");return y.createElement(rt,le({},a,{alignmentBaseline:"middle",className:u}),o)}}])}(A.PureComponent);Te=Y;B(Y,"displayName","Pie");B(Y,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Kt.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});B(Y,"parseDeltaAngle",function(e,t){var n=_e(t-e),r=Math.min(Math.abs(t-e),360);return n*r});B(Y,"getRealPieData",function(e){var t=e.data,n=e.children,r=R(e,!1),a=jr(n,Wt);return t&&t.length?t.map(function(s,o){return T(T(T({payload:s},r),s),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(s){return T(T({},r),s.props)}):[]});B(Y,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,a=t.width,s=t.height,o=Ar(a,s),u=r+je(e.cx,a,a/2),d=n+je(e.cy,s,s/2),l=je(e.innerRadius,o,0),h=je(e.outerRadius,o,o*.8),m=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:u,cy:d,innerRadius:l,outerRadius:h,maxRadius:m}});B(Y,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?T(T({},t.type.defaultProps),t.props):t.props,a=Te.getRealPieData(r);if(!a||!a.length)return null;var s=r.cornerRadius,o=r.startAngle,u=r.endAngle,d=r.paddingAngle,l=r.dataKey,h=r.nameKey,m=r.valueKey,f=r.tooltipType,x=Math.abs(r.minAngle),p=Te.parseCoordinateOfPie(r,n),c=Te.parseDeltaAngle(o,u),g=Math.abs(c),P=l;Q(l)&&Q(m)?(dt(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),P="value"):Q(l)&&(dt(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),P=m);var w=a.filter(function(j){return X(j,P,0)!==0}).length,E=(g>=360?w:w-1)*d,O=g-w*x-E,b=a.reduce(function(j,$){var v=X($,P,0);return j+(D(v)?v:0)},0),k;if(b>0){var N;k=a.map(function(j,$){var v=X(j,P,0),S=X(j,h,$),C=(D(v)?v:0)/b,_;$?_=N.endAngle+_e(c)*d*(v!==0?1:0):_=o;var V=_+_e(c)*((v!==0?x:0)+C*O),I=(_+V)/2,U=(p.innerRadius+p.outerRadius)/2,Ke=[{name:S,value:v,payload:j,dataKey:P,type:f}],fe=Z(p.cx,p.cy,U,I);return N=T(T(T({percent:C,cornerRadius:s,name:S,tooltipPayload:Ke,midAngle:I,middleRadius:U,tooltipPosition:fe},j),p),{},{value:X(j,P),startAngle:_,endAngle:V,payload:j,paddingAngle:_e(c)*d}),N})}return T(T({},p),{},{sectors:k,data:a})});var Kn=["layout","type","stroke","connectNulls","isRange","ref"],Fn=["key"],Jt;function he(e){"@babel/helpers - typeof";return he=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},he(e)}function Xt(e,t){if(e==null)return{};var n=Wn(e,t),r,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Wn(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ie(){return ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ie.apply(this,arguments)}function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?St(Object(n),!0).forEach(function(r){W(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,er(r.key),r)}}function Vn(e,t,n){return t&&Et(e.prototype,t),n&&Et(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Un(e,t,n){return t=Me(t),Zn(e,Qt()?Reflect.construct(t,n||[],Me(e).constructor):t.apply(e,n))}function Zn(e,t){if(t&&(he(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qn(e)}function qn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qt=function(){return!!e})()}function Me(e){return Me=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Me(e)}function Yn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tt(e,t)}function tt(e,t){return tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},tt(e,t)}function W(e,t,n){return t=er(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function er(e){var t=Gn(e,"string");return he(t)=="symbol"?t:t+""}function Gn(e,t){if(he(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(he(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q=function(e){function t(){var n;Hn(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=Un(this,t,[].concat(a)),W(n,"state",{isAnimationFinished:!0}),W(n,"id",Ft("recharts-area-")),W(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),F(o)&&o()}),W(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),F(o)&&o()}),n}return Yn(t,e),Vn(t,[{key:"renderDots",value:function(r,a,s){var o=this.props.isAnimationActive,u=this.state.isAnimationFinished;if(o&&!u)return null;var d=this.props,l=d.dot,h=d.points,m=d.dataKey,f=R(this.props,!1),x=R(l,!0),p=h.map(function(g,P){var w=G(G(G({key:"dot-".concat(P),r:3},f),x),{},{index:P,cx:g.x,cy:g.y,dataKey:m,value:g.value,payload:g.payload,points:h});return t.renderDotItem(l,w)}),c={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return y.createElement(M,ie({className:"recharts-area-dots"},c),p)}},{key:"renderHorizontalRect",value:function(r){var a=this.props,s=a.baseLine,o=a.points,u=a.strokeWidth,d=o[0].x,l=o[o.length-1].x,h=r*Math.abs(d-l),m=Ae(o.map(function(f){return f.y||0}));return D(s)&&typeof s=="number"?m=Math.max(s,m):s&&Array.isArray(s)&&s.length&&(m=Math.max(Ae(s.map(function(f){return f.y||0})),m)),D(m)?y.createElement("rect",{x:d<l?d:d-h,y:0,width:h,height:Math.floor(m+(u?parseInt("".concat(u),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var a=this.props,s=a.baseLine,o=a.points,u=a.strokeWidth,d=o[0].y,l=o[o.length-1].y,h=r*Math.abs(d-l),m=Ae(o.map(function(f){return f.x||0}));return D(s)&&typeof s=="number"?m=Math.max(s,m):s&&Array.isArray(s)&&s.length&&(m=Math.max(Ae(s.map(function(f){return f.x||0})),m)),D(m)?y.createElement("rect",{x:0,y:d<l?d:d-h,width:m+(u?parseInt("".concat(u),10):1),height:Math.floor(h)}):null}},{key:"renderClipRect",value:function(r){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,a,s,o){var u=this.props,d=u.layout,l=u.type,h=u.stroke,m=u.connectNulls,f=u.isRange;u.ref;var x=Xt(u,Kn);return y.createElement(M,{clipPath:s?"url(#clipPath-".concat(o,")"):null},y.createElement(Ee,ie({},R(x,!0),{points:r,connectNulls:m,type:l,baseLine:a,layout:d,stroke:"none",className:"recharts-area-area"})),h!=="none"&&y.createElement(Ee,ie({},R(this.props,!1),{className:"recharts-area-curve",layout:d,type:l,connectNulls:m,fill:"none",points:r})),h!=="none"&&f&&y.createElement(Ee,ie({},R(this.props,!1),{className:"recharts-area-curve",layout:d,type:l,connectNulls:m,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(r,a){var s=this,o=this.props,u=o.points,d=o.baseLine,l=o.isAnimationActive,h=o.animationBegin,m=o.animationDuration,f=o.animationEasing,x=o.animationId,p=this.state,c=p.prevPoints,g=p.prevBaseLine;return y.createElement(Bt,{begin:h,duration:m,isActive:l,easing:f,from:{t:0},to:{t:1},key:"area-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(P){var w=P.t;if(c){var E=c.length/u.length,O=u.map(function(j,$){var v=Math.floor($*E);if(c[v]){var S=c[v],C=J(S.x,j.x),_=J(S.y,j.y);return G(G({},j),{},{x:C(w),y:_(w)})}return j}),b;if(D(d)&&typeof d=="number"){var k=J(g,d);b=k(w)}else if(Q(d)||kr(d)){var N=J(g,0);b=N(w)}else b=d.map(function(j,$){var v=Math.floor($*E);if(g[v]){var S=g[v],C=J(S.x,j.x),_=J(S.y,j.y);return G(G({},j),{},{x:C(w),y:_(w)})}return j});return s.renderAreaStatically(O,b,r,a)}return y.createElement(M,null,y.createElement("defs",null,y.createElement("clipPath",{id:"animationClipPath-".concat(a)},s.renderClipRect(w))),y.createElement(M,{clipPath:"url(#animationClipPath-".concat(a,")")},s.renderAreaStatically(u,d,r,a)))})}},{key:"renderArea",value:function(r,a){var s=this.props,o=s.points,u=s.baseLine,d=s.isAnimationActive,l=this.state,h=l.prevPoints,m=l.prevBaseLine,f=l.totalLength;return d&&o&&o.length&&(!h&&f>0||!Ye(h,o)||!Ye(m,u))?this.renderAreaWithAnimation(r,a):this.renderAreaStatically(o,u,r,a)}},{key:"render",value:function(){var r,a=this.props,s=a.hide,o=a.dot,u=a.points,d=a.className,l=a.top,h=a.left,m=a.xAxis,f=a.yAxis,x=a.width,p=a.height,c=a.isAnimationActive,g=a.id;if(s||!u||!u.length)return null;var P=this.state.isAnimationFinished,w=u.length===1,E=H("recharts-area",d),O=m&&m.allowDataOverflow,b=f&&f.allowDataOverflow,k=O||b,N=Q(g)?this.id:g,j=(r=R(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},$=j.r,v=$===void 0?3:$,S=j.strokeWidth,C=S===void 0?2:S,_=Pr(o)?o:{},V=_.clipDot,I=V===void 0?!0:V,U=v*2+C;return y.createElement(M,{className:E},O||b?y.createElement("defs",null,y.createElement("clipPath",{id:"clipPath-".concat(N)},y.createElement("rect",{x:O?h:h-x/2,y:b?l:l-p/2,width:O?x:x*2,height:b?p:p*2})),!I&&y.createElement("clipPath",{id:"clipPath-dots-".concat(N)},y.createElement("rect",{x:h-U/2,y:l-U/2,width:x+U,height:p+U}))):null,w?null:this.renderArea(k,N),(o||w)&&this.renderDots(k,I,N),(!c||P)&&zt.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:r.points!==a.curPoints||r.baseLine!==a.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(A.PureComponent);Jt=q;W(q,"displayName","Area");W(q,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Kt.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});W(q,"getBaseValue",function(e,t,n,r){var a=e.layout,s=e.baseValue,o=t.props.baseValue,u=o??s;if(D(u)&&typeof u=="number")return u;var d=a==="horizontal"?r:n,l=d.scale.domain();if(d.type==="number"){var h=Math.max(l[0],l[1]),m=Math.min(l[0],l[1]);return u==="dataMin"?m:u==="dataMax"||h<0?h:Math.max(Math.min(l[0],l[1]),0)}return u==="dataMin"?l[0]:u==="dataMax"?l[1]:l[0]});W(q,"getComposedData",function(e){var t=e.props,n=e.item,r=e.xAxis,a=e.yAxis,s=e.xAxisTicks,o=e.yAxisTicks,u=e.bandSize,d=e.dataKey,l=e.stackedData,h=e.dataStartIndex,m=e.displayedData,f=e.offset,x=t.layout,p=l&&l.length,c=Jt.getBaseValue(t,n,r,a),g=x==="horizontal",P=!1,w=m.map(function(O,b){var k;p?k=l[h+b]:(k=X(O,d),Array.isArray(k)?P=!0:k=[c,k]);var N=k[1]==null||p&&X(O,d)==null;return g?{x:mt({axis:r,ticks:s,bandSize:u,entry:O,index:b}),y:N?null:a.scale(k[1]),value:k,payload:O}:{x:N?null:r.scale(k[1]),y:mt({axis:a,ticks:o,bandSize:u,entry:O,index:b}),value:k,payload:O}}),E;return p||P?E=w.map(function(O){var b=Array.isArray(O.value)?O.value[0]:null;return g?{x:O.x,y:b!=null&&O.y!=null?a.scale(b):null}:{x:b!=null?r.scale(b):null,y:O.y}}):E=g?a.scale(c):r.scale(c),G({points:w,baseLine:E,layout:x,isRange:P},f)});W(q,"renderDotItem",function(e,t){var n;if(y.isValidElement(e))n=y.cloneElement(e,t);else if(F(e))n=e(t);else{var r=H("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,s=Xt(t,Fn);n=y.createElement(Dt,ie({},s,{key:a,className:r}))}return n});var Jn=at({chartName:"BarChart",GraphicalChild:Ge,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ve},{axisType:"yAxis",AxisComp:xe}],formatAxisMap:Ht}),Xn=at({chartName:"PieChart",GraphicalChild:Y,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:ze},{axisType:"radiusAxis",AxisComp:De}],formatAxisMap:Or,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Qn=at({chartName:"AreaChart",GraphicalChild:q,axisComponents:[{axisType:"xAxis",AxisComp:ve},{axisType:"yAxis",AxisComp:xe}],formatAxisMap:Ht});const Ue=768;function tr(){const[e,t]=A.useState(void 0);return A.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Ue-1}px)`),r=()=>{t(window.innerWidth<Ue)};return n.addEventListener("change",r),t(window.innerWidth<Ue),()=>n.removeEventListener("change",r)},[]),!!e}const ea=()=>{const[e,t]=A.useState(null),[n,r]=A.useState(1),a=A.useRef(null),s=tr(),o=s?.6:1,u=[{id:"living-room",name:"Living Room",icon:Mr,position:{x:20,y:30},size:{width:25,height:20},waterUsage:5,energyUsage:120,temperature:24,status:"normal",color:"bg-blue-500",devices:[{id:"tv",name:"Smart TV",type:"energy",usage:85,status:"on",icon:Cr},{id:"ac1",name:"Air Conditioner",type:"energy",usage:35,status:"on",icon:pt}]},{id:"kitchen",name:"Kitchen",icon:Tr,position:{x:50,y:20},size:{width:20,height:15},waterUsage:45,energyUsage:95,temperature:26,status:"high",color:"bg-orange-500",devices:[{id:"dishwasher",name:"Dishwasher",type:"water",usage:25,status:"on",icon:te},{id:"fridge",name:"Refrigerator",type:"energy",usage:65,status:"on",icon:ee},{id:"sink",name:"Kitchen Sink",type:"water",usage:20,status:"on",icon:te}]},{id:"master-bedroom",name:"Master Bedroom",icon:Er,position:{x:15,y:55},size:{width:22,height:18},waterUsage:8,energyUsage:45,temperature:22,status:"normal",color:"bg-green-500",devices:[{id:"ac2",name:"Bedroom AC",type:"energy",usage:35,status:"standby",icon:pt},{id:"lights1",name:"LED Lights",type:"energy",usage:10,status:"on",icon:ee}]},{id:"bathroom",name:"Master Bathroom",position:{x:40,y:55},size:{width:12,height:15},icon:Sr,waterUsage:85,energyUsage:25,temperature:25,status:"alert",color:"bg-red-500",devices:[{id:"shower",name:"Electric Shower",type:"water",usage:60,status:"on",icon:te},{id:"heater",name:"Water Heater",type:"energy",usage:25,status:"on",icon:Ve}]},{id:"garage",name:"Garage",icon:_r,position:{x:70,y:45},size:{width:15,height:25},waterUsage:10,energyUsage:15,temperature:20,status:"normal",color:"bg-gray-500",devices:[{id:"ev-charger",name:"EV Charger",type:"energy",usage:15,status:"off",icon:ee}]},{id:"garden",name:"Garden",icon:Lr,position:{x:55,y:75},size:{width:30,height:15},waterUsage:150,energyUsage:30,temperature:18,status:"high",color:"bg-emerald-500",devices:[{id:"sprinkler",name:"Smart Sprinkler",type:"water",usage:120,status:"on",icon:te},{id:"garden-lights",name:"Garden Lights",type:"energy",usage:30,status:"on",icon:ee}]}],d=c=>{switch(c){case"normal":return"text-green-600 bg-green-100";case"high":return"text-orange-600 bg-orange-100";case"alert":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},l=c=>{switch(c){case"normal":return ut;case"high":return Se;case"alert":return Ir;default:return ut}},h=()=>r(c=>Math.min(c+.2,3)),m=()=>r(c=>Math.max(c-.2,.5)),f=()=>{r(1),t(null)},x=u.reduce((c,g)=>c+g.waterUsage,0),p=u.reduce((c,g)=>c+g.energyUsage,0);return A.useEffect(()=>{s&&r(.85)},[s]),i.jsxs("div",{className:"w-full h-full min-h-[600px] bg-gradient-to-br from-slate-50 to-blue-50 rounded-xl overflow-hidden",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between p-3 sm:p-4 bg-white/80 backdrop-blur border-b gap-3 sm:gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(sr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600"}),i.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"Smart House Map"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm",children:[i.jsxs(We,{variant:"outline",className:"flex items-center gap-1",children:[i.jsx(te,{className:"h-3 w-3 text-blue-500"}),x,"L"]}),i.jsxs(We,{variant:"outline",className:"flex items-center gap-1",children:[i.jsx(ee,{className:"h-3 w-3 text-yellow-500"}),p,"kW"]})]})]}),i.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[i.jsx(ge,{variant:"outline",size:"sm",onClick:m,className:"px-2 sm:px-3",children:i.jsx(Br,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),i.jsxs("span",{className:"text-xs sm:text-sm font-medium min-w-[50px] sm:min-w-[60px] text-center",children:[Math.round(n*100),"%"]}),i.jsx(ge,{variant:"outline",size:"sm",onClick:h,className:"px-2 sm:px-3",children:i.jsx(Dr,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),i.jsx(ge,{variant:"outline",size:"sm",onClick:f,className:"px-2 sm:px-3",children:i.jsx($r,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})]}),i.jsxs("div",{className:"flex flex-col lg:flex-row h-[calc(100%-100px)] sm:h-[calc(100%-80px)]",children:[i.jsx("div",{className:"flex-1 relative overflow-hidden",children:i.jsx("div",{className:"w-full h-full flex items-center justify-center p-2 sm:p-4",children:i.jsxs("div",{ref:a,className:"relative w-[92vw] max-w-[720px] aspect-[4/3] sm:w-full sm:aspect-[3/2] md:aspect-[16/9]",style:{transform:`scale(${n})`,transformOrigin:"center center",transition:"transform 0.3s ease"},children:[i.jsxs("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid meet",children:[i.jsx("rect",{x:"10",y:"15",width:"80",height:"70",fill:"none",stroke:"#e5e7eb",strokeWidth:"0.5",rx:"2"}),i.jsx("rect",{x:"12",y:"17",width:"76",height:"66",fill:"#f8fafc",fillOpacity:"0.5"}),i.jsx("line",{x1:"45",y1:"15",x2:"45",y2:"50",stroke:"#e5e7eb",strokeWidth:"0.3"}),i.jsx("line",{x1:"10",y1:"50",x2:"60",y2:"50",stroke:"#e5e7eb",strokeWidth:"0.3"}),i.jsx("line",{x1:"60",y1:"40",x2:"90",y2:"40",stroke:"#e5e7eb",strokeWidth:"0.3"}),i.jsx("line",{x1:"50",y1:"70",x2:"90",y2:"70",stroke:"#e5e7eb",strokeWidth:"0.3"})]}),u.map(c=>{const g=c.icon,P=l(c.status),w=(e==null?void 0:e.id)===c.id;return i.jsx(ct.div,{className:`absolute cursor-pointer transition-all duration-300 ${w?"z-20":"z-10"}`,style:{left:`${c.position.x}%`,top:`${c.position.y}%`,width:`${c.size.width*o}%`,height:`${c.size.height*o}%`},onClick:()=>t(c),whileHover:s?void 0:{scale:1.05},whileTap:{scale:.95},animate:w?{scale:s?1.04:1.1}:{scale:1},children:i.jsxs("div",{className:`w-full h-full rounded-lg border-2 transition-all duration-300 ${w?"border-blue-500 shadow-lg shadow-blue-500/25 bg-blue-50":"border-gray-300 hover:border-gray-400 bg-white/60 hover:bg-white/80"}`,children:[i.jsx("div",{className:`p-1.5 sm:p-2 ${s?"flex items-center justify-center h-full":"flex items-center justify-between"}`,children:s?i.jsx("span",{className:"text-[10px] font-semibold text-gray-900 whitespace-normal break-words text-center px-1",children:c.name}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(g,{className:"h-4 w-4 text-gray-600"}),i.jsx("span",{className:"text-[10px] sm:text-xs font-medium text-gray-800 whitespace-normal break-words",children:c.name})]}),i.jsx(P,{className:`h-3 w-3 ${c.status==="normal"?"text-green-500":c.status==="high"?"text-orange-500":"text-red-500"}`})]})}),!s&&i.jsxs("div",{className:"px-1.5 pb-1.5 sm:px-2 sm:pb-2 space-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between text-[10px] sm:text-xs",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(te,{className:"h-3 w-3 text-blue-500"}),i.jsxs("span",{children:[c.waterUsage,"L"]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(ee,{className:"h-3 w-3 text-yellow-500"}),i.jsxs("span",{children:[c.energyUsage,"kW"]})]})]}),i.jsxs("div",{className:"flex items-center gap-1 text-[10px] sm:text-xs",children:[i.jsx(Ve,{className:"h-3 w-3 text-red-400"}),i.jsxs("span",{children:[c.temperature,"C"]})]})]}),!s&&i.jsx("div",{className:"absolute bottom-1 right-1",children:i.jsx("div",{className:"flex gap-1",children:c.devices.slice(0,3).map((E,O)=>i.jsx("div",{className:`w-2 h-2 rounded-full ${E.status==="on"?"bg-green-400":E.status==="standby"?"bg-yellow-400":"bg-gray-300"}`},O))})})]})},c.id)})]})})}),i.jsx(Ur,{children:e&&i.jsx(ct.div,{initial:{width:0,opacity:0},animate:{width:window.innerWidth<1024?"100%":350,opacity:1},exit:{width:0,opacity:0},transition:{duration:.3},className:"bg-white border-l shadow-lg overflow-hidden lg:relative absolute inset-0 z-30 lg:z-auto",children:i.jsxs("div",{className:"p-4 sm:p-6 h-full overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[i.jsx(e.icon,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-600"}),i.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:e.name})]}),i.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>t(null),className:"h-8 w-8 p-0",children:""})]}),i.jsx("div",{className:"mb-6",children:i.jsx(We,{className:`${d(e.status)} capitalize`,children:e.status})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[i.jsx(z,{children:i.jsxs(K,{className:"p-4 text-center",children:[i.jsx(te,{className:"h-6 w-6 text-blue-500 mx-auto mb-2"}),i.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[e.waterUsage,"L"]}),i.jsx("div",{className:"text-xs text-gray-500",children:"Water Usage"})]})}),i.jsx(z,{children:i.jsxs(K,{className:"p-4 text-center",children:[i.jsx(ee,{className:"h-6 w-6 text-yellow-500 mx-auto mb-2"}),i.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[e.energyUsage,"kW"]}),i.jsx("div",{className:"text-xs text-gray-500",children:"Energy Usage"})]})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[i.jsx(z,{children:i.jsxs(K,{className:"p-4 text-center",children:[i.jsx(Ve,{className:"h-5 w-5 text-red-400 mx-auto mb-2"}),i.jsxs("div",{className:"text-lg font-bold text-gray-900",children:[e.temperature,"C"]}),i.jsx("div",{className:"text-xs text-gray-500",children:"Temperature"})]})}),i.jsx(z,{children:i.jsxs(K,{className:"p-4 text-center",children:[i.jsx(lr,{className:"h-5 w-5 text-purple-500 mx-auto mb-2"}),i.jsx("div",{className:"text-lg font-bold text-gray-900",children:e.devices.length}),i.jsx("div",{className:"text-xs text-gray-500",children:"Smart Devices"})]})})]})]})})})]})]})},ce={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};async function ta(e){var d,l,h,m;const t=ce==null?void 0:ce.VITE_OPENAI_API_KEY,n=e.monthly.at(-1),r=e.monthly.at(-2),a=n&&r?Le(r.water,n.water):0,s=n&&r?Le(r.electricity,n.electricity):0,o=[...e.distribution].sort((f,x)=>x.total_water+x.total_electricity-(f.total_water+f.total_electricity))[0],u=`Water ${_t(a)}, Electricity ${_t(s)} vs previous month. Highest usage room: ${(o==null?void 0:o.room)??"N/A"}.`;if(!t)return u;try{const f=`You are an assistant summarizing home water and electricity usage briefly.
Monthly series JSON: ${JSON.stringify(e.monthly)}
By-room totals JSON: ${JSON.stringify(e.distribution)}
Write 2 concise sentences summarizing trends, increases/decreases, and any notable room.`,p=await(await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({model:"gpt-4o-mini",messages:[{role:"system",content:"You are a concise analytics assistant."},{role:"user",content:f}],temperature:.3,max_tokens:160})})).json();return((m=(h=(l=(d=p==null?void 0:p.choices)==null?void 0:d[0])==null?void 0:l.message)==null?void 0:h.content)==null?void 0:m.trim())||u}catch{return u}}async function ra(e){var r,a,s;const t=ce==null?void 0:ce.VITE_OPENAI_API_KEY,n=na(e);if(!t)return n;try{const o=`Suggest 3 concrete actions to reduce water/electricity usage for a household given:
Monthly series JSON: ${JSON.stringify(e.monthly)}
Room totals JSON: ${JSON.stringify(e.distribution)}
Be specific, 1 sentence each, start without numbering.`,d=await(await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({model:"gpt-4o-mini",messages:[{role:"system",content:"You provide practical, concise conservation tips."},{role:"user",content:o}],temperature:.5,max_tokens:200})})).json(),h=(((s=(a=(r=d==null?void 0:d.choices)==null?void 0:r[0])==null?void 0:a.message)==null?void 0:s.content)||"").split(/\n+/).map(m=>m.replace(/^[-\d)\.\s]+/,"").trim()).filter(Boolean).slice(0,3);return h.length?h:n}catch{return n}}function na(e){const t=[],n=e.monthly.at(-1),r=e.monthly.at(-2);if(n&&r){const s=Le(r.water,n.water);Le(r.electricity,n.electricity)>5&&t.push("Run high-load appliances during off-peak hours to cut electricity costs."),s>5&&t.push("Inspect faucets and toilet tanks for small leaks to reduce water loss.")}const a=[...e.distribution].sort((s,o)=>o.total_water-s.total_water)[0];return a!=null&&a.room&&t.push(`Optimize usage in ${a.room}it currently leads in water consumption.`),t.length||t.push("Great job maintaining stable usageconsider scheduling periodic audits to keep it optimized."),t.slice(0,3)}function Le(e,t){return e===0?t===0?0:100:(t-e)/e*100}function _t(e){return`${e>=0?"":""}${Math.abs(e).toFixed(1)}%`}const Ze=[{month:"2024-01",water:100,electricity:300},{month:"2024-02",water:110,electricity:310},{month:"2024-03",water:115,electricity:320},{month:"2024-04",water:120,electricity:340},{month:"2024-05",water:150,electricity:360},{month:"2024-06",water:130,electricity:320},{month:"2024-07",water:140,electricity:330},{month:"2024-08",water:160,electricity:380},{month:"2024-09",water:170,electricity:390},{month:"2024-10",water:175,electricity:395},{month:"2024-11",water:180,electricity:400},{month:"2024-12",water:190,electricity:410}],qe=[{room:"Kitchen",total_water:35,total_electricity:50},{room:"Bathroom",total_water:25,total_electricity:0},{room:"Hall",total_water:10,total_electricity:15},{room:"Bedroom",total_water:5,total_electricity:20},{room:"Other",total_water:3,total_electricity:5}],aa=[{time:"00:00",water:30,electricity:25},{time:"03:00",water:20,electricity:18},{time:"06:00",water:35,electricity:30},{time:"09:00",water:70,electricity:65},{time:"12:00",water:90,electricity:85},{time:"15:00",water:85,electricity:80},{time:"18:00",water:95,electricity:90},{time:"21:00",water:65,electricity:55}],ia=[],Tt=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"],xa=()=>{const e=tr(),[t,n]=A.useState("monthly"),[r,a]=A.useState("bar"),[s,o]=A.useState(!1),[u,d]=A.useState(Ze),[l,h]=A.useState(qe),[m,f]=A.useState([]),[x,p]=A.useState(!0),[c,g]=A.useState(null),[P,w]=A.useState(""),[E,O]=A.useState([]),b={title:"Advanced Analytics",monthlyTrends:"Monthly Usage Trends",usageDistribution:"Usage Distribution",hourlyPatterns:"Hourly Usage Patterns",yearlyComparison:"Yearly Comparison",water:"Water (L)",electricity:"Electricity (kWh)",timeRange:"Time Range",chartType:"Chart Type",viewMap:"View House Map",hideMap:"Hide House Map",houseMapTitle:"House Map",houseMapDesc:"Visual layout of rooms with usage hotspots"};A.useEffect(()=>{let v=!1;return(async()=>{p(!0),g(null);try{const[S,C,_]=await Promise.all([nr(),ar(),ir()]);if(v)return;S.length&&f(S),C.length&&d(C),_.length&&h(_);try{const[V,I]=await Promise.all([ta({monthly:C.length?C:Ze,distribution:_.length?_:qe}),ra({monthly:C.length?C:Ze,distribution:_.length?_:qe})]);v||(w(V),O(I))}catch{}}catch(S){v||g(S.message||"Failed to load analytics")}finally{v||p(!1)}})(),()=>{v=!0}},[]),A.useEffect(()=>{const v=()=>{o(!0)};return window.addEventListener("showHouseMap",v),()=>window.removeEventListener("showHouseMap",v)},[]);const k=()=>{switch(t){case"hourly":return aa;case"yearly":return ia;default:return u.map(v=>({name:v.month,water:v.water,electricity:v.electricity}))}},N=()=>t==="hourly"?"time":t==="yearly"?"year":"name",j=A.useMemo(()=>{const v=k();if(!Array.isArray(v)||v.length<3)return null;const S=v.slice(-3),C=_=>{const V=S[0][_];S[1][_];const I=S[2][_],U=(I-V)/2,Ke=Math.max(0,Math.round(I+U)),fe=S[1][_],rr=fe?(I-fe)/fe*100:0;return{current:I,next:Ke,deltaPct:rr}};return{water:C("water"),electricity:C("electricity")}},[t,r,u,m]),$=A.useMemo(()=>{if(!j)return null;const v=Math.round((j.electricity.next||0)*7),S=Math.round((j.water.next||0)*.1);return v+S},[j]);return i.jsx("div",{className:"min-h-screen bg-background flex flex-col",children:i.jsxs("main",{className:"flex-1 flex flex-col w-full md:w-auto",children:[i.jsx(or,{}),i.jsxs("div",{className:"flex-1 p-6",children:[i.jsx("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-6",children:i.jsx("h1",{className:"text-3xl font-bold",children:b.title})}),i.jsx("div",{className:"flex gap-4 mb-6",children:i.jsx(z,{className:"w-full",children:i.jsx(K,{className:"pt-6",children:i.jsxs("div",{className:"flex flex-wrap gap-4 md:items-center",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(yr,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs(it,{value:t,onValueChange:n,children:[i.jsx(st,{className:"w-full sm:w-[150px]",children:i.jsx(ot,{placeholder:b.timeRange})}),i.jsxs(lt,{children:[i.jsx(se,{value:"hourly",children:"Hourly"}),i.jsx(se,{value:"monthly",children:"Monthly"}),i.jsx(se,{value:"yearly",children:"Yearly"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Rr,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs(it,{value:r,onValueChange:a,children:[i.jsx(st,{className:"w-full sm:w-[150px]",children:i.jsx(ot,{placeholder:b.chartType})}),i.jsxs(lt,{children:[i.jsx(se,{value:"bar",children:"Bar Chart"}),i.jsx(se,{value:"line",children:"Line Chart"}),i.jsx(se,{value:"area",children:"Area Chart"})]})]})]}),i.jsxs(ge,{variant:"outline",size:"sm",onClick:()=>o(!s),className:"w-full sm:w-auto sm:ml-auto","data-testid":"view-house-map-button",children:[i.jsx(gr,{className:"h-4 w-4 mr-2"}),s?b.hideMap:b.viewMap]})]})})})}),s&&i.jsxs(z,{className:"mb-6",children:[i.jsxs(pe,{className:"flex flex-col gap-1 md:flex-row md:items-center md:justify-between",children:[i.jsxs("div",{children:[i.jsx(ye,{children:"Interactive House Map"}),i.jsx(Fe,{children:"Real-time monitoring of water and energy usage across all rooms"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[i.jsx("span",{className:"h-2 w-2 rounded-full bg-primary animate-pulse"})," Live Data"]})]}),i.jsx(K,{className:"p-0 relative",children:i.jsx("div",{className:"h-[600px] rounded-b-lg overflow-hidden relative",children:i.jsx(ea,{})})})]}),i.jsxs("div",{className:"grid gap-6 grid-cols-1 md:grid-cols-2",children:[i.jsxs(z,{id:"monthly-trends",className:"scroll-mt-24",children:[i.jsx(pe,{children:i.jsx(ye,{children:t==="monthly"?b.monthlyTrends:t==="hourly"?b.hourlyPatterns:b.yearlyComparison})}),i.jsxs(K,{children:[x&&i.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading data..."}),c&&i.jsx("div",{className:"text-sm text-destructive",children:c}),i.jsx(ht,{width:"100%",height:360,children:r==="bar"?i.jsxs(Jn,{data:k(),children:[i.jsx(He,{strokeDasharray:"3 3"}),i.jsx(ve,{dataKey:N()}),i.jsx(xe,{}),i.jsx(ke,{}),i.jsx(Pe,{}),i.jsx(Ge,{dataKey:"water",fill:"#7FB3D5",name:b.water}),i.jsx(Ge,{dataKey:"electricity",fill:"#82C785",name:b.electricity})]}):r==="line"?i.jsxs(Nr,{data:k(),children:[i.jsx(He,{strokeDasharray:"3 3"}),i.jsx(ve,{dataKey:N()}),i.jsx(xe,{}),i.jsx(ke,{}),i.jsx(Pe,{}),i.jsx(Oe,{type:"monotone",dataKey:"water",stroke:"#7FB3D5",name:b.water}),i.jsx(Oe,{type:"monotone",dataKey:"electricity",stroke:"#82C785",name:b.electricity}),j&&i.jsxs(i.Fragment,{children:[i.jsx(Oe,{type:"monotone",dataKey:()=>j.water.current,stroke:"#7FB3D5",strokeDasharray:"4 4",dot:!1,isAnimationActive:!1}),i.jsx(Oe,{type:"monotone",dataKey:()=>j.electricity.current,stroke:"#82C785",strokeDasharray:"4 4",dot:!1,isAnimationActive:!1})]})]}):i.jsxs(Qn,{data:k(),children:[i.jsx(He,{strokeDasharray:"3 3"}),i.jsx(ve,{dataKey:N()}),i.jsx(xe,{}),i.jsx(ke,{}),i.jsx(Pe,{}),i.jsx(q,{type:"monotone",dataKey:"water",fill:"#7FB3D5",stroke:"#5A8DB3",name:b.water}),i.jsx(q,{type:"monotone",dataKey:"electricity",fill:"#82C785",stroke:"#5EA568",name:b.electricity})]})}),j&&i.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-3 gap-3 text-sm",children:[i.jsxs("div",{className:"p-3 rounded-md border bg-muted/30",children:[i.jsxs("div",{className:"font-medium flex items-center gap-2",children:["Electricity forecast ",j.electricity.deltaPct>=0?i.jsx(Se,{className:"h-4 w-4 text-red-500"}):i.jsx(ft,{className:"h-4 w-4 text-green-500"})]}),i.jsxs("div",{className:"text-muted-foreground",children:["Next period: ",i.jsxs("span",{className:"font-semibold",children:[j.electricity.next," kWh"]})]})]}),i.jsxs("div",{className:"p-3 rounded-md border bg-muted/30",children:[i.jsxs("div",{className:"font-medium flex items-center gap-2",children:["Water forecast ",j.water.deltaPct>=0?i.jsx(Se,{className:"h-4 w-4 text-red-500"}):i.jsx(ft,{className:"h-4 w-4 text-green-500"})]}),i.jsxs("div",{className:"text-muted-foreground",children:["Next period: ",i.jsxs("span",{className:"font-semibold",children:[j.water.next," L"]})]})]}),i.jsxs("div",{className:"p-3 rounded-md border bg-muted/30",children:[i.jsx("div",{className:"font-medium",children:"Estimated bill"}),i.jsxs("div",{className:"text-muted-foreground",children:[" ",i.jsx("span",{className:"font-semibold",children:$??"--"})]})]})]})]})]}),i.jsxs(z,{id:"usage-distribution",className:"scroll-mt-24",children:[i.jsx(pe,{children:i.jsx(ye,{children:b.usageDistribution})}),i.jsx(K,{children:i.jsx(ht,{width:"100%",height:360,children:i.jsxs(Xn,{children:[i.jsx(Y,{data:l.map(v=>({name:v.room,value:v.total_water+v.total_electricity})),cx:"50%",cy:"50%",outerRadius:e?80:100,fill:"#8884d8",dataKey:"value",label:e?!1:({name:v,percent:S})=>`${v} ${(S*100).toFixed(0)}%`,labelLine:!e,children:l.map((v,S)=>i.jsx(Wt,{fill:Tt[S%Tt.length]},`cell-${S}`))}),i.jsx(ke,{formatter:v=>`${v}`}),i.jsx(Pe,{})]})})})]})]}),i.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs(z,{id:"ai-insights",className:"lg:col-span-2 relative overflow-hidden border-none shadow-xl scroll-mt-24",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600 via-blue-700 to-indigo-700 opacity-95"}),i.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-cyan-300/10 rounded-full blur-3xl"}),i.jsx(pe,{className:"relative z-10",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-white/20 backdrop-blur-sm",children:i.jsx(cr,{className:"h-5 w-5 text-white"})}),i.jsxs("div",{children:[i.jsx(ye,{className:"text-white text-xl",children:"AI-Powered Insights"}),i.jsx(Fe,{className:"text-white/80",children:"Intelligent analysis of your consumption patterns"})]})]})}),i.jsx(K,{className:"relative z-10",children:i.jsx("div",{className:"p-4 rounded-xl bg-white/10 backdrop-blur-md border border-white/20",children:i.jsx("p",{className:"text-white/90 leading-relaxed text-base",children:P||"Analyzing your usage patterns..."})})})]}),i.jsxs(z,{id:"smart-tips",className:"relative overflow-hidden shadow-lg scroll-mt-24",children:[i.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-green-400/20 to-blue-400/20 rounded-full blur-2xl"}),i.jsx(pe,{className:"relative z-10",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-green-500 to-emerald-600",children:i.jsx(Se,{className:"h-5 w-5 text-white"})}),i.jsxs("div",{children:[i.jsx(ye,{className:"text-lg",children:"Smart Tips"}),i.jsx(Fe,{children:"Personalized recommendations"})]})]})}),i.jsx(K,{className:"relative z-10",children:i.jsx("ul",{className:"space-y-3",children:(E.length?E:["Try running the washing machine in the morning to save energy.","Fix small leaks in taps to reduce water wastage.","Switch to LED lights in frequently used rooms."]).map((v,S)=>i.jsx("li",{className:"group p-4 rounded-xl border border-border bg-gradient-to-br from-muted/50 to-muted/30 hover:shadow-md hover:border-primary/50 transition-all duration-300 cursor-pointer",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"mt-0.5 p-1.5 rounded-full bg-primary/10 group-hover:bg-primary/20 transition-colors",children:i.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"})}),i.jsx("p",{className:"text-sm leading-relaxed flex-1",children:v})]})},S))})})]})]})]})]})})};export{xa as default};
